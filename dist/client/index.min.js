var MockeClient=function(t,e,r,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(e),a=i(r),c=i(n);function u(){}function o(){o.init.call(this)}function f(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,o;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');return(i=t._events)?(i.newListener&&(t.emit("newListener",e,r.listener||r),i=t._events),o=i[e]):(i=t._events=new u,t._eventsCount=0),o?("function"==typeof o?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),o.warned||(n=f(t))&&0<n&&o.length>n&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=o.length,n=n,"function"==typeof console.warn?console.warn(n):console.log(n))):(o=i[e]=r,++t._eventsCount),t}function l(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function p(t){var e=this._events;if(e){t=e[t];if("function"==typeof t)return 1;if(t)return t.length}return 0}function v(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}u.prototype=Object.create(null),(o.EventEmitter=o).usingDomains=!1,o.prototype.domain=void 0,o.prototype._events=void 0,o.prototype._maxListeners=void 0,o.defaultMaxListeners=10,o.init=function(){this.domain=null,o.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new u,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(t){var e,r,n,i=arguments,o="error"===t,s=this._events;if(s)o=o&&null==s.error;else if(!o)return!1;if(u=this.domain,o){if(o=arguments[1],u)return(o=o||new Error('Uncaught, unspecified "error" event')).domainEmitter=this,o.domain=u,o.domainThrown=!1,u.emit("error",o),!1;if(o instanceof Error)throw o;var u=new Error('Uncaught, unspecified "error" event. ('+o+")");throw u.context=o,u}if(!(e=s[t]))return!1;var a,c="function"==typeof e;switch(a=arguments.length){case 1:!function(t,e,r){if(e)t.call(r);else for(var n=t.length,i=v(t,n),o=0;o<n;++o)i[o].call(r)}(e,c,this);break;case 2:!function(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,o=v(t,i),s=0;s<i;++s)o[s].call(r,n)}(e,c,this,arguments[1]);break;case 3:!function(t,e,r,n,i){if(e)t.call(r,n,i);else for(var o=t.length,s=v(t,o),u=0;u<o;++u)s[u].call(r,n,i)}(e,c,this,arguments[1],arguments[2]);break;case 4:!function(t,e,r,n,i,o){if(e)t.call(r,n,i,o);else for(var s=t.length,u=v(t,s),a=0;a<s;++a)u[a].call(r,n,i,o)}(e,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(a-1),n=1;n<a;n++)r[n-1]=i[n];!function(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,o=v(t,i),s=0;s<i;++s)o[s].apply(r,n)}(e,c,this,r)}return!0},o.prototype.addListener=function(t,e){return h(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return h(this,t,e,!0)},o.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[t]))return this;if(r===e||r.listener&&r.listener===e)0==--this._eventsCount?this._events=new u:(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length;0<o--;)if(r[o]===e||r[o].listener&&r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new u,this;delete n[t]}else!function(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}(r,i);n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.removeAllListeners=function(t){var e,r=this._events;if(!r)return this;if(!r.removeListener)return 0===arguments.length?(this._events=new u,this._eventsCount=0):r[t]&&(0==--this._eventsCount?this._events=new u:delete r[t]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new u,this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(e)for(;this.removeListener(t,e[e.length-1]),e[0];);return this},o.prototype.listeners=function(t){var e=this._events,r=e&&(r=e[t])?"function"==typeof r?[r.listener||r]:function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(r):[];return r},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var d={};function m(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function g(t){return y.exec(t).slice(1)}var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function _(){for(var t=arguments,e="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){var i=0<=n?t[n]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,r="/"===i.charAt(0))}return(r?"/":"")+(e=m(L(e.split("/"),function(t){return!!t}),!r).join("/"))||"."}function b(t){var e=w(t),r="/"===j(t,-1);return(t=!(t=m(L(t.split("/"),function(t){return!!t}),!e).join("/"))&&!e?".":t)&&r&&(t+="/"),(e?"/":"")+t}function w(t){return"/"===t.charAt(0)}var E={extname:function(t){return g(t)[3]},basename:function(t,e){return t=g(t)[2],t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t},dirname:function(t){var t=(e=g(t))[0],e=e[1];return t||e?t+(e=e&&e.substr(0,e.length-1)):"."},sep:"/",delimiter:":",relative:function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=_(t).substr(1),e=_(e).substr(1);for(var n=r(t.split("/")),i=r(e.split("/")),o=Math.min(n.length,i.length),s=o,u=0;u<o;u++)if(n[u]!==i[u]){s=u;break}for(var a=[],u=s;u<n.length;u++)a.push("..");return(a=a.concat(i.slice(s))).join("/")},join:function(){return b(L(Array.prototype.slice.call(arguments,0),function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},isAbsolute:w,normalize:b,resolve:_};function L(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var j="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)},O=function(n){function t(t,e,r){n.call(this),this.app=r,this.name=t,this.configured=!1,this.items=[],this.startService(e)}n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t;var e={total:{configurable:!0}};return e.total.get=function(){return this.items.length},t.prototype.startService=function(t){if("string"==typeof(e=t))var t=d.readFileSync(e,{encoding:"utf8"}),e=JSON.parse(t);else if(Array.isArray(e)||"object"!=typeof e)throw new Error('Options type cannot be "',typeof e,'"');this.configureService(e)},t.prototype.configureService=function(t){var e=t.schema,t=t.total;void 0===t&&(t=10),this.schema=e,this._total=t,this.app.server&&this.registerRoutes()},t.prototype.registerRoutes=function(){var e=this,t=[{method:"GET",path:"/"+this.name+"/{id}",handler:function(t){return e.items[t.params.id-1]}},{method:"GET",path:"/"+this.name,handler:function(n){return e.items.filter(function(t){var e=parseInt(n.query.limit)||4,r=parseInt(n.query.skip)||0;return t.id<=e+r&&t.id>r})}}];this.app.server.route(t)},t.prototype.generateCachedItems=function(){this.items=[];for(var t=0;this._total>t;t++){var e=this.generateItem();this.items.push(e)}this.app.log("generated "+this.items.length+" for service "+this.name)},t.prototype.generateItem=function(t,e){for(var r=t||this.schema,n=Object.keys(r),i={id:e||this.items.length+1},o=0;n.length>o;o++){var s=n[o];i[s]=this.generateProperty(r[s])}return i},t.prototype.generateProperty=function(t){var e=t.type;void 0===e&&(e="string");var r=t.total;void 0===r&&(r=4);var n=t.properties;void 0===n&&(n={});var i=t.fakerType;{if(void 0===i&&(i="lorem.text"),"array"!=typeof e)return"object"==typeof e?this.generateItem(n,1):(c.default(a.default,i)||c.default(a.default,"lorem.text"))();for(var o,s=[],u=0;u<r;u++)return"object"===i?(o=this.generateItem(n,u+1),s.push(o)):(o=(o=c.default(a.default,i)[0])||c.default(a.default,"lorem.text"),s.push(o())),s}},t.prototype.destroy=function(){this.removeAllListeners()},t.prototype.find=function(t){var e=this,r=t.limit,t=t.skip;return this.app.transport.get(this.name+"?limit="+(r=void 0===r?4:r)+"&skip="+(t=void 0===t?0:t)).then(function(t){return{data:t.data,total:e.total}}).catch(function(t){t=t.response.data.message;e.emit("error",t)})},t.prototype.get=function(t){var e=this;return void 0===t&&(t=1),this.app.transport&&this.app.transport.get(this.name+"/"+t).then(function(t){return t.data}).catch(function(t){t=t.response.data.message;e.emit("error",t)})},t.prototype.createStore=function(){return{namespaced:!0,static:{items:[],total:0},mutations:{ADD_ITEM_TO_STORE:function(t,e){!t.items.filter(function(t){return t.id===e.id})[0]&&t.items.push(e)},UPDATE_TOTAL:function(t,e){t.total=e}},actions:{findItems:function(t,e){var r=t.commit,t=e.limit,e=e.skip;return this.find(t,e).then(function(t){r("UPDATE_TOTAL",t.total),t.data.forEach(function(t){r("ADD_ITEM_TO_STORE",t)})})},getItem:function(t){return this.get(t).then(function(t){commit("ADD_ITEM_TO_STORE",t)})}},getters:{getById:function(t){return function(e){return t.items.filter(function(t){return t.id===e})[0]}},findInStore:function(t){return function(e,r){return void 0===e&&(e=4),void 0===r&&(r=0),t.items.filter(function(t){return t.id<=e+r&&t.id>r})}}}}},Object.defineProperties(t.prototype,e),t}(o);return t.MockerClient=function(r){function t(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];r.apply(this,t),this.registerServices()}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.createVuexModules=function(){var e=this,r={};return Object.keys(this.services).forEach(function(t){r[t]=e.services[t].createStore()}),r},t}(function(o){function t(t){var e=t.port;void 0===e&&(e=3001);var r=t.host;void 0===r&&(r="localhost");var n=t.services;void 0===n&&(n={});var i=t.servicesPath,t=t.debug;void 0===t&&(t=!1),o.call(this),this.services={},this._host=r,this._port=e,this._services=n,this._servicesPath=i,this.debug=t,this.transport=s.default.create({baseURL:"http://"+this._host+":"+this._port+"/"})}o&&(t.__proto__=o),(t.prototype=Object.create(o&&o.prototype)).constructor=t;var e={host:{configurable:!0},port:{configurable:!0},servicesRegistered:{configurable:!0}};return e.host.get=function(){return this._host},e.port.get=function(){return this._port},e.servicesRegistered.get=function(){return Object.keys(this.services)},t.prototype.registerServices=function(){var r,n=this;this.services={},this._servicesPath?(r=E.join(this._servicesPath),d.readdirSync(r).forEach(function(t){var e=n.checkFile(t);e&&n.registerService(e,r+"/"+t)})):this._services&&0<Object.keys(this._services).length?Object.keys(this._services).forEach(function(t){var e=n._services[t];n.registerService(t,e)}):this.handleError("No services found"),0===this.servicesRegistered.length&&this.handleError("No services found")},t.prototype.registerService=function(t,e){this.log("Registering "+t+" service");e=new O(t,e,this);this.services[t]=e,this.log(t+" registered"),this.log(this.servicesRegistered)},t.prototype.checkFile=function(t){t=t.split(".");return"json"===t.pop()?t.join("."):null},t.prototype.service=function(t){return this.services[t]||this.handleError("No service with the name "+t+" registered"),this.services[t]},t.prototype.handleError=function(t){throw this.emit("error",t),new Error(t)},t.prototype.log=function(t){this.debug&&console.log(t)},Object.defineProperties(t.prototype,e),t}(o)),Object.defineProperty(t,"__esModule",{value:!0}),t}({},axios,faker,get);
//# sourceMappingURL=index.min.js.map
